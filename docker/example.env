###############################################
# IA Mirror container â€“ Environment variables #
###############################################

#
# REQUIRED
#
# The identifier is the string after archive.org/details/...
# Prefer IA_IDENTIFIER. IA_ITEM_NAME is also supported for compatibility.
IA_IDENTIFIER=The_Babe_Ruth_Collection
# IA_ITEM_NAME=The_Babe_Ruth_Collection

#
# AUTHENTICATION (optional - required only for private items or uploads)
# If provided, the container will write an ia.ini for the IA CLI.
IA_ACCESS_KEY=your_access_key_here
IA_SECRET_KEY=your_secret_key_here

#
# DESTINATION (recommended)
# When unset, defaults to /data/<identifier> inside the container.
IA_DESTDIR=/data

#
# SELECTION
# Treat identifier as a collection (download all items within)
IA_COLLECTION=1
# Glob pattern of files to download from each item.
# Leave IA_GLOB unset to download ALL files (default: '*').
# Only set this if you want to restrict what gets mirrored.
# Examples:
#   IA_GLOB=*.zip              # only .zip archives
#   IA_GLOB="*.{mp3,flac}"      # only mp3 & flac files (brace expansion supported by IA CLI)
#   IA_GLOB="*2024*"            # anything with 2024 in the name
#   IA_GLOB="*/subdir/*"        # files under a specific subdirectory
# NOTE: Pattern is passed directly to 'ia list --glob'; no local shell expansion occurs inside the container.
#       Quote the value when your host shell might expand '*'.
# IA_GLOB=*.zip

#
# BEHAVIOR FLAGS (all optional)
# Verify file integrity via IA checksums
IA_CHECKSUM=1
# Skip any zip whose extracted folder already exists in destdir (for zip archives)
IA_RESUMEFOLDERS=1
# Dry-run without downloading; prints plan and exits
# IA_DRY_RUN=1
# Verify existing files only and exit
# IA_VERIFY_ONLY=1
# Only print size/time/cost estimates and exit
# IA_ESTIMATE_ONLY=1

#
# PERFORMANCE & TIMEOUTS (optional)
IA_CONCURRENCY=8            # Parallel downloads
IA_RETRIES=5                # Retries per file
IA_PROGRESS_TIMEOUT=1200    # Seconds without progress before retry/abort
IA_MAX_TIMEOUT=10800        # Hard per-file timeout in seconds

#
# BANDWIDTH & ESTIMATES (optional)
IA_MAX_MBPS=200             # Throttle max bandwidth (approx, requires trickle)
IA_ASSUMED_MBPS=200         # Used for ETA when uncapped
IA_COST_PER_GB=0.09         # For cost estimate output only

#
# ADVANCED (optional)
# Override path to the IA CLI if not in PATH
# IA_IA_PATH=/usr/local/bin/ia
# Log level for container logs and ia_download.log (DEBUG, INFO, WARNING, ERROR)
# IA_LOG_LEVEL=INFO